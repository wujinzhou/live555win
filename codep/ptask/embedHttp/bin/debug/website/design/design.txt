分布式任务系统的设计思路：

系统分主节点、普通节点两种。主节点负责分派任务，普通节点负责执行任务。
每个节点都有一个web服务器，通过http协议互相传递命令和数据。

1.状态监视接口
每个节点都可以通过访问首页来人工监视其状态信息。
通过/status?type=json接口来读取格式化的状态信息（任务调度的时候可能需要）。
在主节点的首页，除了可以监视其信息外，还可以分配任务。

2.文件下载接口
任何节点都可以下载文件。url就是文件路径（相对于指定的目录）。可以通过pos、size两参数，下载文件部分内容。

3.启动任务指令
主节点可以给普通节点发送启动任务指令，url是/addtask?taskid=***&type=***&name=***&param1=***&&param2=***
节点收到此命令后将任务加入到任务队列。任务执行的时候，任务的执行状况可以在前面的状态监视接口中读到。

4.任务完成指令
节点执行完任务之后，通过post方法把数据发送到主服务器，url是/taskreport，post字段有：taskid、type、finishcode、data四个。

5.节点注册接口
普通节点需要定时将自己的状态上报到主节点，这样主节点才能知道它们的存在以及运行状态。
主节点上，此接口是/nodestatus，参数有：addr、port、currtaskid、currtaskname、currtaskstate、waitingtaskcount等。